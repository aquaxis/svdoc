<mxfile host="app.diagrams.net" modified="2026-02-16" type="device">
  <diagram id="ch14_dpi_types" name="DPI-Cデータ型マッピング">
    <mxGraphModel dx="1200" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <!-- タイトル -->
        <mxCell id="2" value="DPI-C データ型マッピング（SystemVerilog ↔ C）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="220" y="20" width="560" height="40" as="geometry" />
        </mxCell>

        <!-- ========== ヘッダ行 ========== -->
        <mxCell id="5" value="&lt;b&gt;SystemVerilog 型&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="75" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6" value="&lt;b&gt;C 型&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="75" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- ========== Row 1: int ========== -->
        <mxCell id="10" value="int" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="11" value="int" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="130" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="12" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="10" target="11" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 2: real ========== -->
        <mxCell id="13" value="real" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="172" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="14" value="double" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="172" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="15" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="13" target="14" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 3: string ========== -->
        <mxCell id="16" value="string" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="214" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="17" value="const char*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="214" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="18" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="16" target="17" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 4: bit ========== -->
        <mxCell id="19" value="bit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="256" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="20" value="svBit (unsigned char)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="256" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="21" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="19" target="20" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 5: logic ========== -->
        <mxCell id="22" value="logic" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="298" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="23" value="svLogic (unsigned char)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="298" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="24" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="22" target="23" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 6: byte ========== -->
        <mxCell id="25" value="byte" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="340" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="26" value="char" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="340" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="27" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="25" target="26" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 7: shortint ========== -->
        <mxCell id="28" value="shortint" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="382" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="29" value="short" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="382" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="30" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="28" target="29" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 8: longint ========== -->
        <mxCell id="31" value="longint" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="424" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="32" value="long long" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="424" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="33" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="31" target="32" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 9: chandle ========== -->
        <mxCell id="34" value="chandle" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="466" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="35" value="void*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="466" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="36" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="34" target="35" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 10: struct (packed) ========== -->
        <mxCell id="37" value="struct (packed)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="508" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="38" value="svBitVecVal*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="508" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="39" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="37" target="38" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== Row 11: struct (unpacked) ========== -->
        <mxCell id="40" value="struct (unpacked)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontFamily=Courier New;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="550" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="41" value="対応するC構造体（手動定義）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="550" width="220" height="32" as="geometry" />
        </mxCell>
        <mxCell id="42" style="endArrow=classic;strokeColor=#999999;strokeWidth=1;" edge="1" source="40" target="41" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== 2-state / 4-state 区分ラベル ========== -->
        <mxCell id="50" value="2-state型" style="text;html=1;align=center;fontSize=10;fontColor=#6c8ebf;fontStyle=2;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="310" y="258" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="51" value="4-state型" style="text;html=1;align=center;fontSize=10;fontColor=#b85450;fontStyle=2;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="310" y="300" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- ========== 注意ボックス ========== -->
        <mxCell id="60" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="80" y="605" width="640" height="80" as="geometry" />
        </mxCell>
        <mxCell id="61" value="&lt;b&gt;注意事項&lt;/b&gt;" style="text;html=1;align=left;fontSize=12;fontColor=#333333;fontStyle=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="100" y="610" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="62" value="• packed構造体はビットベクタとして扱われる（svBitVecVal*経由でアクセス）&lt;br&gt;• 4-state型（logic）は x/z の値を持つため、svLogic型で個別に扱う必要がある&lt;br&gt;• chandle は C側のポインタを SV側で保持するために使用される（opaque handle）" style="text;html=1;align=left;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="633" width="600" height="45" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
