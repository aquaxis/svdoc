<mxfile host="app.diagrams.net" modified="2026-02-16T00:00:00.000Z" agent="Mozilla/5.0" version="22.1.0">
  <diagram name="Page-1" id="ch17_cpu_instruction_format">
    <mxGraphModel dx="1200" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- Title -->
        <mxCell id="2" value="&lt;b&gt;簡易CPU命令フォーマット (16ビット)&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="320" y="20" width="460" height="40" as="geometry"/>
        </mxCell>
        <!-- ===== R-type Instruction ===== -->
        <mxCell id="3" value="&lt;b&gt;R-type 命令&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="100" y="80" width="140" height="30" as="geometry"/>
        </mxCell>
        <!-- Bit position labels for R-type -->
        <mxCell id="4" value="15" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="5" value="12" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="240" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="6" value="11" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="270" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="7" value="10" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="340" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="8" value="9" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="370" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9" value="8" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9b" value="7" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="470" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9c" value="6" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="540" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9d" value="5" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="570" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="9e" value="0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="800" y="110" width="30" height="20" as="geometry"/>
        </mxCell>
        <!-- R-type fields -->
        <mxCell id="10" value="&lt;b&gt;opcode&lt;/b&gt;&lt;br&gt;(4bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="130" width="170" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="11" value="&lt;b&gt;rd&lt;/b&gt;&lt;br&gt;(2bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="270" y="130" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="12" value="&lt;b&gt;rs1&lt;/b&gt;&lt;br&gt;(2bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="370" y="130" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="13" value="&lt;b&gt;rs2&lt;/b&gt;&lt;br&gt;(2bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="470" y="130" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="14" value="&lt;b&gt;reserved&lt;/b&gt;&lt;br&gt;(6bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="570" y="130" width="260" height="60" as="geometry"/>
        </mxCell>
        <!-- R-type field labels -->
        <mxCell id="15" value="[15:12]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="140" y="190" width="60" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="16" value="[11:10]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="290" y="190" width="60" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="17" value="[9:8]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="395" y="190" width="50" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="18" value="[7:6]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="495" y="190" width="50" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="19" value="[5:0]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="670" y="190" width="50" height="20" as="geometry"/>
        </mxCell>
        <!-- ===== I-type Instruction ===== -->
        <mxCell id="25" value="&lt;b&gt;I-type 命令&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="100" y="240" width="140" height="30" as="geometry"/>
        </mxCell>
        <!-- Bit position labels for I-type -->
        <mxCell id="26" value="15" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="27" value="12" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="240" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="28" value="11" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="270" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="29" value="10" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="340" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="29b" value="9" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="370" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="29c" value="8" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="29d" value="7" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="470" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="29e" value="0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="800" y="270" width="30" height="20" as="geometry"/>
        </mxCell>
        <!-- I-type fields -->
        <mxCell id="30" value="&lt;b&gt;opcode&lt;/b&gt;&lt;br&gt;(4bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="290" width="170" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="31" value="&lt;b&gt;rd&lt;/b&gt;&lt;br&gt;(2bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="270" y="290" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="32" value="&lt;b&gt;rs1&lt;/b&gt;&lt;br&gt;(2bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="370" y="290" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="33" value="&lt;b&gt;imm&lt;/b&gt;&lt;br&gt;(8bit)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="470" y="290" width="360" height="60" as="geometry"/>
        </mxCell>
        <!-- I-type field labels -->
        <mxCell id="35" value="[15:12]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="140" y="350" width="60" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="36" value="[11:10]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="290" y="350" width="60" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="37" value="[9:8]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="395" y="350" width="50" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="38" value="[7:0]" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=10;fontColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="620" y="350" width="50" height="20" as="geometry"/>
        </mxCell>
        <!-- Example Instructions -->
        <mxCell id="50" value="&lt;b&gt;命令例&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=13;verticalAlign=top;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="100" y="400" width="730" height="180" as="geometry"/>
        </mxCell>
        <!-- R-type example -->
        <mxCell id="51" value="&lt;b&gt;R-type例: ADD rd, rs1, rs2&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="120" y="430" width="250" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="52" value="&lt;font face=&quot;monospace&quot;&gt;0001 | 00 | 01 | 10 | 000000&lt;/font&gt;  →  R0 = R1 + R2" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="140" y="455" width="400" height="25" as="geometry"/>
        </mxCell>
        <!-- I-type example -->
        <mxCell id="53" value="&lt;b&gt;I-type例: ADDI rd, rs1, imm&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="120" y="490" width="280" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="54" value="&lt;font face=&quot;monospace&quot;&gt;0010 | 00 | 01 | 00001010&lt;/font&gt;  →  R0 = R1 + 10" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="140" y="515" width="400" height="25" as="geometry"/>
        </mxCell>
        <!-- Instruction list -->
        <mxCell id="55" value="&lt;b&gt;基本命令セット:&lt;/b&gt; ADD, SUB, AND, OR, ADDI, LDI, LD, ST, BEQ, BNE, JMP, NOP" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];strokeColor=none;fillColor=none;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="120" y="550" width="600" height="25" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
